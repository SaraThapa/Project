
<div class="content-wrapper">
    <div class="content-header">
      <div class="container-fluid">
        <div class="row mb-2">
          <div class="col-sm-6">
            <h1 class="m-0 text-dark">Upload Result</h1>
          </div>
          <div class="col-sm-6">
            <ol class="breadcrumb float-sm-right">
              <li class="breadcrumb-item"><a [routerLink]="['/']">Dashboard</a></li>
              <li class="breadcrumb-item active">Upload Result</li>
            </ol>
          </div>
        </div>
      </div>
    </div>
    <div class="content">
      <div class="container-fluid">

        <form #studentDetail=ngForm (ngSubmit)="onSubmit(studentDetail.value)">
        <div class="card">
          <div class="card-header">
            <div *ngIf="isSelectError" class="alert alert-danger">
              <i class="fas fa-exclamation-triangle"></i> Please select all options
            </div>
            <div class="row">
              <div class="col-sm-2">
                <select class="form-control" [(ngModel)]="class" name="class">
                  <option value="" selected>select class</option>
                  <option value="Play Group">Play Group</option>
                  <option value="ECD">ECD</option>
                  <option value="KG">KG</option>
                  <option value="Nursery">Nursery</option>
                  <option value="LKG">LKG</option>
                  <option value="UKG">UKG</option>
                  <option value="One">One</option>
                  <option value="Two">Two</option>
                  <option value="Three">Three</option>
                  <option value="Four">Four</option>
                  <option value="Five">Five</option>
                  <option value="Six">Six</option>
                  <option value="Seven">Seven</option>
                  <option value="Eight">Eight</option>
                  <option value="Nine">Nine</option>
                  <option value="Ten">Ten</option>
                  <option value="Eleven">Eleven</option>
                  <option value="Twelve">Twelve</option>
                  <option value="BBS_1">BBS_1</option>
                  <option value="BBS_2">BBS_2</option>
                  <option value="BBS_3">BBS_3</option>
                  <option value="BBS_4">BBS_4</option>
                  <option value="BBA_1">BBA_1</option>
                  <option value="BBA_2">BBA_2</option>
                  <option value="BBA_3">BBA_3</option>
                  <option value="BBA_4">BBA_4</option>
                  <option value="Bsc_1">Bsc_1</option>
                  <option value="Bsc_2">Bsc_2</option>
                  <option value="Bsc_3">Bsc_3</option>
                  <option value="Bsc_4">Bsc_4</option>
                  <option value="BBA_1_1">BBA_1_1</option>
                  <option value="BBA_1_2">BBA_1_2</option>
                  <option value="BBA_1_3">BBA_1_3</option>
                  <option value="BBA_1_4">BBA_1_4</option>
                  <option value="BBA_1_5">BBA_1_5</option>
                  <option value="BBA_2">BBA_2</option>
                  <option value="BBA_3">BBA_3</option>
                  <option value="BBA_4">BBA_4</option>
                  <option value="BA_3">BA_3</option>
                  <option value="BEd_1">BEd_1</option>
                  <option value="BEd_2">BEd_2</option>
                  <option value="BEd_3">BEd_3</option>
                  <option value="BEd_4">BEd_4</option>
                  <option value="MEd_1">MEd_1</option>
                  <option value="MEd_2">MEd_2</option>
                  <option value="MEd_2_1">MEd_2_1</option>
                  <option value="MEd_2_2">MEd_2_2</option>
                </select>
              </div>
              <div class="col-sm-2">
                <select class="form-control" [(ngModel)]="section" name="section">
                  <option value="" selected>Select section</option>
                  <option value="A">A</option>
                  <option value="B">B</option>
                  <option value="c">C</option>
                  <option value="D">D</option>
                  <option value="E">E</option>
                  <option value="F">F</option>
                </select>
              </div>
              <div class="col-sm-2">
                <select class="form-control" [(ngModel)]="term" name="term">
                  <option value="" selected>Select Terms</option>
                  <option value="First Term">First Term</option>
                  <option value="Second Term">Second Term</option>
                  <option value="Third Term">Third Term</option>
                  <option value="Fourth Term">Fourth Term</option>
                  <option value="Final Term">Final Term</option>
                </select>
              </div>
              <div class="col-sm-2">
                <select class="form-control" [(ngModel)]="year" name="year">
                  <option value="" selected>Select year</option>
                  <option value="2076">2076</option>
                  <option value="2077">2077</option>
                  <option value="2078">2078</option>
                  <option value="2079">2079</option>
                  <option value="2080">2080</option>
                  <option value="2081">2081</option>
                  <option value="2082">2082</option>
                  <option value="2083">2083</option>
                  <option value="2084">2084</option>
                  <option value="2085">2085</option>
                  <option value="2086">2086</option>
                  <option value="2087">2087</option>
                  <option value="2088">2088</option>
                  <option value="2089">2089</option>
                  <option value="2090">2090</option>
                  <option value="UT1">UT1</option>
                  <option value="UT2">UT2</option>
                  <option value="UT3">UT3</option>
                  <option value="UT4">UT4</option>
                  <option value="CT1">CT1</option>
                  <option value="CT2">CT2</option>
                  <option value="CT3">CT3</option>
                  <option value="CT4">CT4</option>
                </select>
              </div>
              <div class="col-sm-4">
                <button class="btn btn-primary btn-pill btn-block"   (click)="submit()">Submit</button>
              </div>
            </div>

            <form #studentSubject=ngForm (ngSubmit)="submitSubject(studentSubject.value)">
            <div class="row" *ngIf="subjects && subjects.length > 0">
              <div class="col-sm-2 mt-2">
                <select name="subjectname" [(ngModel)]="subjectSelected" class="form-control">
                  <option value="" selected>Choose Subject</option>
                  <option [value]="i+1" *ngFor="let subject of subjects;let i = index">{{subject.subject}}</option>
                </select>
                <br>
              </div>
              <div class="col-sm-2 mt-2">
                <button class="btn btn-primary btn-pill btn-block" (click)="loadstudent()">Load student</button>
              </div>
            </div>
          </form>
          </div>
        </div>
        </form>
        <div class="table">
          <table *ngIf="allstudent && allstudent.length > 0" id="example" class="table table-striped table-bordered table-sm" style="width:100%">
            <thead>
                <tr>
                  <th>StudentId</th>
                  <th>Student name</th>
                  <th>Student Rollno</th>
                  <th>Theory</th>
                  <th>Practical</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor='let student of allstudent; let i = index'>
                  <td>{{allstudent[i].studentid}}</td>
                  <td>{{student.name_field}}</td>
                  <td>{{student.roll_Stu}}</td>
                  <td><input class="form-control form-control-sm" type="number" [(ngModel)]="allstudent[i].theory" *ngIf="subjects[(subjectSelected - 1)].fullTheory > 0" (keyup)="theoryFullMarkCheck(i)" /></td>
                  <td><input class="form-control form-control-sm" type="number" [(ngModel)]="allstudent[i].practical" *ngIf="subjects[(subjectSelected - 1)].fullpratical > 0" (keyup)="practicalFullMarkCheck(i)" ></td>
              </tbody>
              <div class="col-sm-12">
                <button class="btn btn-primary btn-pill btn-block" (click)="studentMarksave()">save</button>
              </div>
          </table>
      </div>



      </div>
    </div>
<!-- All student result start -->


<!-- All student result end -->
